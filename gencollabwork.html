<!DOCTYPE html>


<div id="qr"></div>


<script>
const menu = [
{ name: "Trà đào", price: 25000 },
{ name: "Trà chanh", price: 20000 },
{ name: "Coca", price: 15000 },
{ name: "Bạc xỉu", price: 30000 }
];


const cart = [];


function loadMenu() {
const menuDiv = document.getElementById("menu");
menu.forEach((item, i) => {
menuDiv.innerHTML += `
<div class='item'>
<span>${item.name} - ${item.price}đ</span>
<button onclick="addToCart(${i})">+ Thêm</button>
</div>
`;
});
}


function addToCart(i) {
const found = cart.find(x => x.name === menu[i].name);
if (found) found.qty++;
else cart.push({ name: menu[i].name, price: menu[i].price, qty: 1 });
renderCart();
}


function renderCart() {
const div = document.getElementById("cartItems");
div.innerHTML = "";
let total = 0;


cart.forEach(item => {
total += item.qty * item.price;
div.innerHTML += `<p>${item.name} x ${item.qty}</p>`;
});


document.getElementById("total").innerText = total;
}


function checkout() {
const seat = document.getElementById("seat").value;
const order = { seat, items: cart };
const text = encodeURIComponent(JSON.stringify(order));


// Tạo QR bằng Google Chart API
document.getElementById("qr").innerHTML = `
<h3>Mã QR đơn hàng</h3>
<img src="https://chart.googleapis.com/chart?cht=qr&chs=300x300&chl=${text}" />
<p>Quét để xem đơn (giả lập)</p>
`;
}


loadMenu();
</script>
</body>
</html>